## Описание

Это программа для моделирования поведения систем магнитных моментов в магнитных полях.

Она состоит из двух частей -- собственно модель (на Kotlin), в которой происходит моделирование системы, 
и координатор (на Python), который занимается запуском модели с различными параметрами, а также рисованием графиков
данных, полученных в результате моделирования.

### Модель

В модели происходит, как ни странно, моделирование системы. Модель собирается в `.jar` файл, который принимает 
два аргумента -- путь к файлу с настройками и путь к выходной папке (по-умлочанию `./resources/settings.json` и 
`./resources/out` соответственно). Значения параметров в файле с настройками можно посмотреть в исходных файлах 
`src/main/kotlin/org/physics/mamca/Settings.kt` или `coordinator/mamca/settings.py`. Расчеты для моделирования 
производятся с помощью *Wolfram Mathematica*, так что для запуска необходимо иметь установленный дистрибутив 
математики.
 
### Координатор

Координатор содержит в себе пакет `mamca`, в котором есть инструменты для разилчных режимов запуска модели (одиночный
запуск, набор запусков с изменяющимся параметром, цикл гистерезиса) и рисования различных графиков 
(трехмерные, двумерные, гистерезис). `create_and_draw.py`, `hysteresises.py` --- примеры использования этих инструментов.
  
 
##Установка

Для развертывания проекта, необходимо:
 1. клонировать из репозитория
 2. вручную добавить библиотеки, связанные с Wolfram Mathematica (они проприетарны, поэтому в репозитории их нет)
     * java-библиотека`$MATHEMATICA$/SystemFiles/Links/JLink/JLink.jar` -- ее надо попложить в папку `$PROJECT_DIR$/libs`
     * нативная библиотека (**Windows**) `$MATHEMATICA$/SystemFiles/Links/JLink/SystemFiles/Libraries/Windows-x86-64/JLinkNativeLibrary.dll`
 -- ее надо положить в корень проекта
 3. прописать путь к ядру математики (`$MATHEMATICA$/MathKernel.exe`) в файл 
 `$PROJECT_DIR$/src/main/resources/config.properties`
 4. инициализировать проект с помощью *Gradle*, конфигурационный файл -- `$PROJECT_DIR$/build.gradle` 
 5. собрать используемый проектом интерпретатор питона: `gradlew build_envs`

#### Запуск

Для запуска необходимо запускать скрипты из координатора с помощью gradle задач (например, `gradlew test_py`)
